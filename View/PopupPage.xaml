<?xml version="1.0" encoding="utf-8" ?>
<mct:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
           xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
           xmlns:model="clr-namespace:MauiApp1.Model"
           xmlns:mct="clr-namespace:CommunityToolkit.Maui.Views;assembly=CommunityToolkit.Maui"
           x:Class="MauiApp1.View.PopupPage"
           CanBeDismissedByTappingOutsideOfPopup="False">
    <ContentView>
        <ScrollView>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Entry 
                Grid.Row="0"
                Text="{Binding CurrSelectedEvent.Name}"
                FontSize="30"
                Margin="10"
                VerticalOptions="Start" 
                HorizontalOptions="Start"
                FontAttributes="Bold" />
                <Button
                Grid.Row="0"
                HorizontalOptions="End"
                BackgroundColor="Transparent"
                Text="X"
                FontSize="30"
                TextColor="{StaticResource PrimaryDark}"
                Command="{Binding CloseCommand}" />

                <HorizontalStackLayout Grid.Row="1" Margin="10">
                    <DatePicker Date="{Binding CurrSelectedEvent.DateTime}" />
                    <TimePicker Time="{Binding CurrSelectedEvent.DateTime.TimeOfDay}" />
                </HorizontalStackLayout>

                <Label Grid.Row="2" Text="Description" Margin="10" />
                <ScrollView Grid.Row="3" Padding="4" VerticalOptions="StartAndExpand">
                    <Editor InputTransparent="False" Placeholder="Description" Text="{Binding CurrSelectedEvent.Description}" VerticalOptions="Center" TextColor="Black" />
                </ScrollView>
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" MinimumWidthRequest="100" Margin="8" Text="DELETE" BackgroundColor="PaleVioletRed" Command="{Binding DeleteCommand}" CommandParameter="{Binding CurrSelectedEvent}" />
                    <Button Grid.Column="2" MinimumWidthRequest="100" Margin="8" Text="SAVE" BackgroundColor="PaleVioletRed" Command="{Binding SaveCommand}" CommandParameter="{Binding CurrSelectedEvent}" />
                </Grid>
            </Grid>
        </ScrollView>
    </ContentView>
</mct:Popup>